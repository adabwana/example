
---
format:
  html: {toc: true, toc-depth: 4, theme: spacelab, output-file: visualize_data.html}
highlight-style: solarized
code-block-background: true
include-in-header: {text: '<link rel = "icon" href = "data:," />'}

---
<style></style><style>.printedClojure .sourceCode {
  background-color: transparent;
  border-style: none;
}
</style>
<script src="visualize_data_files/md-default4.js" type="text/javascript"></script><script src="visualize_data_files/md-default5.js" type="text/javascript"></script><script src="visualize_data_files/vega6.js" type="text/javascript"></script><script src="visualize_data_files/vega7.js" type="text/javascript"></script><script src="visualize_data_files/vega8.js" type="text/javascript"></script>

::: {.sourceClojure}
```clojure
(ns visualize-data
  (:require
   [aerial.hanami.templates :as ht]
   [generate-data :refer [data]]
   [nextjournal.clerk :as clerk]
   [scicloj.ml.dataset :as ds]
   [scicloj.noj.v1.vis.hanami :as hanami]
   [scicloj.kind-clerk.api :as kind-clerk]))
```
:::



::: {.sourceClojure}
```clojure
(kind-clerk/setup!)
```
:::



::: {.printedClojure}
```clojure
:ok

```
:::



# Visualize Data


::: {.sourceClojure}
```clojure
(comment
  (clerk/serve! {:browse? true :watch-paths ["."]})
  (clerk/show! "src/assignment/generate_data.clj")
  (clerk/build! {:paths ["notebooks/visualize_data.clj"]}))
```
:::



::: {.sourceClojure}
```clojure
(defn dist-range [dist]
  (-> (apply max dist)
      (-
        (apply min dist))))
```
:::



::: {.sourceClojure}
```clojure
(-> (ds/select-rows data #(= (:group %) "normal"))
    (hanami/histogram :x2 {:nbins 20}))
```
:::


<div style="max-height:600px;overflow-y:auto;"><div><script>vegaEmbed(document.currentScript.parentElement, {"encoding":{"y":{"field":"count","type":"quantitative"},"x":{"scale":{"zero":false},"field":"left","type":"quantitative","title":"x2"},"y2":{"field":0,"type":"quantitative"},"x2":{"scale":{"zero":false},"field":"right","type":"quantitative"}},"mark":"rect","width":400,"background":"floralwhite","height":300,"data":{"url":"visualize_data_files\/0.csv","format":{"type":"csv"}}});</script></div></div>


::: {.sourceClojure}
```clojure
(-> (:x2 (ds/select-rows data #(= (:group %) "normal")))
    dist-range)
```
:::



::: {.printedClojure}
```clojure
18.373575242538173

```
:::



::: {.sourceClojure}
```clojure
(-> (ds/select-rows data #(= (:group %) "gamma"))
    (hanami/histogram :x2 {:nbins 20}))
```
:::


<div style="max-height:600px;overflow-y:auto;"><div><script>vegaEmbed(document.currentScript.parentElement, {"encoding":{"y":{"field":"count","type":"quantitative"},"x":{"scale":{"zero":false},"field":"left","type":"quantitative","title":"x2"},"y2":{"field":0,"type":"quantitative"},"x2":{"scale":{"zero":false},"field":"right","type":"quantitative"}},"mark":"rect","width":400,"background":"floralwhite","height":300,"data":{"url":"visualize_data_files\/1.csv","format":{"type":"csv"}}});</script></div></div>


::: {.sourceClojure}
```clojure
(-> (:x2 (ds/select-rows data #(= (:group %) "gamma")))
    dist-range)
```
:::



::: {.printedClojure}
```clojure
16.870330598525182

```
:::



::: {.sourceClojure}
```clojure
(-> (ds/select-rows data #(= (:group %) "log-normal"))
    (hanami/histogram :x2 {:nbins 20}))
```
:::


<div style="max-height:600px;overflow-y:auto;"><div><script>vegaEmbed(document.currentScript.parentElement, {"encoding":{"y":{"field":"count","type":"quantitative"},"x":{"scale":{"zero":false},"field":"left","type":"quantitative","title":"x2"},"y2":{"field":0,"type":"quantitative"},"x2":{"scale":{"zero":false},"field":"right","type":"quantitative"}},"mark":"rect","width":400,"background":"floralwhite","height":300,"data":{"url":"visualize_data_files\/2.csv","format":{"type":"csv"}}});</script></div></div>


::: {.sourceClojure}
```clojure
(-> (:x2 (ds/select-rows data #(= (:group %) "log-normal")))
    dist-range)
```
:::



::: {.printedClojure}
```clojure
22.135563341587634

```
:::


Scatter plot


::: {.sourceClojure}
```clojure
(-> data
    (hanami/plot ht/point-chart
                 {:X "x1" :Y "x2" :COLOR "group"}))
```
:::


<div style="max-height:600px;overflow-y:auto;"><div><script>vegaEmbed(document.currentScript.parentElement, {"encoding":{"y":{"field":"x2","type":"quantitative"},"color":{"field":"group","type":"nominal"},"x":{"field":"x1","type":"quantitative"}},"mark":{"type":"circle","tooltip":true},"width":400,"background":"floralwhite","height":300,"data":{"url":"visualize_data_files\/3.csv","format":{"type":"csv"}}});</script></div></div>

<div style="background-color:grey;height:2px;width:100%;"></div>

<div><pre><small><small>source: notebooks/visualize_data.clj</small></small></pre></div>